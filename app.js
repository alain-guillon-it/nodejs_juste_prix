/**
 * ========================================================================================
 * DEPENDANCIES
 * ========================================================================================
 */
const { join } = require("path");
const favicon = require("serve-favicon");
const express = require("express");

/**
 * ========================================================================================
 * EXPRESS, PORT AND HOSTNAME INITIALIZED
 * ========================================================================================
 */
const app = express();
const PORT = process.env.PORT || 3000;
const HOSTNAME = process.env.HOSTNAME ?? ("localhost" || "127.0.0.1");

/**
 * ========================================================================================
 * ROUTER
 * ========================================================================================
 */
const myRouter = require("./router/index.routes");

/**
 * ========================================================================================
 * MIDDLEWARES
 * ========================================================================================
 */
app.use(favicon(join(__dirname, "public", "favicon", "favicon.ico")));

/**
 * ========================================================================================
 * USED MIDDLEWARE WITH AN USING OF ROUTING
 * ========================================================================================
 */
app.use("/", myRouter);

/**
 * ========================================================================================
 * SERVER STARTED AT
 * ========================================================================================
 */
app.listen(PORT, () =>
  console.log(`Server has been started at http://${HOSTNAME}:${PORT}`)
);
